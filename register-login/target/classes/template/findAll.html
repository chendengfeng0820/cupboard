<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>iview example</title>
    <link rel="stylesheet" type="text/css" href="http://unpkg.com/view-design/dist/styles/iview.css">
    <script type="text/javascript" src="http://vuejs.org/js/vue.min.js"></script>
    <script type="text/javascript" src="http://unpkg.com/view-design/dist/iview.min.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
<div id="app">
    <i-button type="primary" @click="xxx">查询所有</i-button>
    <i-table :columns="columns1" :data="data1"></i-table>
</div>
<script>
    var cols=[
        {
            title: '用户id',
            key: 'user_id'
        },
        {
            title: '手机号',
            key: 'user_telephone'
        },
        {
            title: '密码',
            key: 'user_password'
        },
        {
            title: '用户名',
            key: 'user_username'
        },
        {
            title: '面部信息',
            key: 'user_faceinfo'
        },
        {
            title: '创建时间',
            key: 'user_createtime'
        }
    ];
    var Main = new Vue({
        el:'#app',
        data () {
            return {
                columns1:cols ,
                data1: []
            }
        },
        method:{
            search(){
                console.log("hello");
                xxx()
            }
        }

    });

    function xxx() {
        $.ajax({
            url: '/findAll1',
            type: 'post',
            success(res) {
                // console.log(res);
                var msg = JSON.stringify(res);
                msg = $.parseJSON(msg);
                Main.data1=msg;
                // console.log(res)
                // Main.data1 = [{
                //     user_id: '王小明',
                //     user_username: 18,
                //     user_password: '北京市朝阳区芍药居'
                // }]

            }
        })
    }
</script>
</body>
</html>